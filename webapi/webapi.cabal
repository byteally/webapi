cabal-version:       2.4
-- Initial webapi.cabal generated by cabal init.  For further
-- documentation, see http://haskell.org/cabal/users-guide/

name:                webapi
version:             0.5
synopsis:            WAI based library for web api
description:         WAI based library for web api
homepage:            http://byteally.github.io/webapi/
license:             BSD-3-Clause
license-file:        LICENSE
author:              Magesh B
maintainer:          magesh85@gmail.com
-- copyright:
-- extra-source-files:
category:            Web
build-type:          Simple
extra-source-files:  ChangeLog.md
source-repository head
    type:     git
    location: https://github.com/byteally/webapi


library
  exposed-modules:     WebApi
                     , WebApi.Client
                     , WebApi.Internal
                     , WebApi.Router
                     , WebApi.Server
                     , WebApi.Mock
  other-modules:       WebApi.ServerCompact

  -- other-extensions:
  build-depends:       base               >= 4.7  && < 5
                     , aeson              >= 0.9  && < 2.4
                     , bytestring         >= 0.10.6.0 && < 0.12
                     , text               >= 1.2  && < 2.2
                     , time               >= 1.5  && < 1.13
                     , wai-extra          >= 3.0  && < 3.3
                     , http-types         >= 0.8  && < 0.13
                     , http-media         >= 0.6  && < 0.9
                     , webapi-contract    == 0.5.*
                     , wai                >= 3.0  && < 3.3
                     , http-client        >= 0.4  && < 0.8
                     , http-client-tls    >= 0.2  && < 0.5
                     , cookie             >= 0.4  && < 0.5
                     , resourcet          >= 1.1  && < 1.3
                     , exceptions         >= 0.8  && < 1
                     , QuickCheck         >= 2.8  && < 2.15
                     , unliftio           >= 0.2  && < 0.3

  hs-source-dirs:      src
  default-language:    Haskell2010
  ghc-options:         -Wall -Werror -O2

test-suite unit-tests
    type:              exitcode-stdio-1.0
    main-is:           Spec.hs
    other-modules:     WebApi.RequestSpec
                     , WebApi.ResponseSpec
                     , WebApi.RouteSpec
                     , WebApi.ClientSpec
                     , WebApi.ParamSpec
                     , WebApi.MockSpec

    hs-source-dirs:    tests
    default-language:  Haskell2010
    cpp-options:       -DTEST
    ghc-options:       -Wall
    build-depends:     base              >= 4.7  && < 5
                     , aeson             >= 0.9  && < 1.5
                     , case-insensitive  == 1.2.*
                     , wai               >= 3.0  && < 3.3
                     , wai-extra         >= 3.0  && < 3.3
                     , warp
                     , http-media        >= 0.6  && < 0.9
                     , http-types        >= 0.8  && < 0.13
                     , hspec             >= 2.1  && < 2.8
                     , hspec-wai         >= 0.6  && < 0.11
                     , text              >= 1.2  && < 2.2
                     , bytestring        >= 0.10.6.0 && < 0.11
                     , vector            >= 0.10 && < 0.13
                     , time              >= 1.5  && < 1.13
                     , QuickCheck        >= 2.8  && < 2.15
                     , binary            == 0.8.*
                     , webapi
                     , webapi-contract

    build-tool-depends:  hspec-discover:hspec-discover >= 2.7.1
